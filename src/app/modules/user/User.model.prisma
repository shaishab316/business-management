model User {
  id                  String              @id @default(auto()) @map("_id") @db.ObjectId
  createdAt           DateTime            @default(now())
  updatedAt           DateTime            @updatedAt
  fcmToken            String?
  role                EUserRole           @default(GUEST)
  name                String?
  email               String              @unique
  phone               String?
  avatar              String              @default("/images/placeholder.png")
  address             String?
  rating              Float               @default(0)
  socials             TSocial[]
  Auth                Auth?
  Otp                 Otp?
  Task                Task[]              @relation("InfluencerTasks")
  TaskAsManager       Task[]              @relation("ManagerTasks")
  reviewsGiven        Review[]            @relation("ReviewByUser")
  reviewsReceived     Review[]            @relation("ReviewForInfluencer")
  Compromise          Compromise[]
  Issue               Issue[]
  Notification        Notification[]
  manager_influencers ManagerInfluencer[] @relation("ManagerToManagerInfluencer")
  influencer_managers ManagerInfluencer[] @relation("InfluencerToManagerInfluencer")
  manager_payments    Payment[]           @relation("ManagerPayments")
  influencer_payments Payment[]           @relation("InfluencerPayments")

  nextRole EUserRole?

  @@map("users")
}

type TSocial {
  platform  String
  link      String
  followers Int    @default(0)
}

enum EUserRole {
  GUEST
  USER
  INFLUENCER
  MANAGER
  ADMIN
  SUB_ADMIN
}
